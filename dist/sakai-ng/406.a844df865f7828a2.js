"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[406],{7406:(Je,_,s)=>{s.r(_),s.d(_,{SolicitacaoServicoModule:()=>Pe});var p=s(9808),c=s(2382),d=s(4851),J=s(986),f=s(845),h=s(5787),C=s(7773),Z=s(4534),U=s(8018),v=s(1424),b=s(3407),w=s(4036),I=s(9603),x=s(7010),T=s(5315),M=s(2047),u=s(9783),e=s(1223),E=s(3920),V=s(520);let D=(()=>{class n extends E.f{constructor(t){super(t,"/visita"),this.http=t}buscarTodos(){let a={headers:this.getHttpHeaders()};return this.http.get(this.actionUrl+"/findAll",a)}createVisita(t){let i={headers:this.getHttpHeaders()};return this.http.post(this.actionUrl+"/create",t,i)}finalizarVisita(t){let i={headers:this.getHttpHeaders()};return this.http.put(this.actionUrl+"/finalizar",t,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y=(()=>{class n{constructor(t){this.http=t}getEndereco(t){return this.http.get(`https://viacep.com.br/ws/${t}/json/`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=s(5652),q=s(1208),N=s(2537);function S(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openNewVisita())}),e.qZA()()}}function Q(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2,"Visitas"),e.qZA(),e.TgZ(3,"span",23),e._UZ(4,"i",24),e.TgZ(5,"input",25),e.NdJ("input",function(i){e.CHM(t);const o=e.oxw(),m=e.MAs(7);return e.KtG(o.onGlobalFilter(m,i))}),e.qZA()()()}}function K(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2,"Nome "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5,"Telefone "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8,"Endere\xe7o "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11,"Data Agendamento "),e._UZ(12,"p-sortIcon",33),e.qZA(),e.TgZ(13,"th",34),e._uU(14,"Descri\xe7\xe3o "),e._UZ(15,"p-sortIcon",35),e.qZA(),e.TgZ(16,"th",36),e._uU(17,"Chegou pelo Site "),e._UZ(18,"p-sortIcon",37),e.qZA(),e.TgZ(19,"th",38),e._uU(20,"Notificar Wpp "),e._UZ(21,"p-sortIcon",39),e.qZA(),e.TgZ(22,"th",40),e._uU(23,"Status"),e._UZ(24,"p-sortIcon",41),e.qZA(),e._UZ(25,"th"),e.qZA())}function k(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.finalizarVisita(i))}),e.qZA()}}function F(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,o=e.oxw();return e.KtG(o.onNewOrcamento(i))}),e.qZA()}}function H(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",42)(2,"span",43),e._uU(3,"Nome"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",42)(6,"span",43),e._uU(7,"Telefone"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",42)(10,"span",43),e._uU(11,"Endere\xe7o"),e.qZA(),e.TgZ(12,"a",44),e._uU(13),e.qZA()(),e.TgZ(14,"td",42)(15,"span",43),e._uU(16,"Data Agendamento"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td",42)(20,"span",43),e._uU(21,"Descri\xe7\xe3o"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",42)(24,"span",43),e._uU(25,"Chegou pelo Site"),e.qZA(),e.TgZ(26,"b"),e._uU(27),e.qZA()(),e.TgZ(28,"td",45)(29,"span",43),e._uU(30,"Notificar Wpp"),e.qZA(),e.TgZ(31,"b"),e._uU(32),e.qZA()(),e.TgZ(33,"td",45)(34,"span",43),e._uU(35,"Status"),e.qZA(),e.TgZ(36,"b"),e._uU(37),e.qZA()(),e.TgZ(38,"td")(39,"div",46)(40,"button",47),e.NdJ("click",function(){const o=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.viewVisita(o))}),e.qZA(),e.YNc(41,k,1,0,"button",48),e.YNc(42,F,1,0,"button",49),e.qZA()()()}if(2&n){const t=l.$implicit;e.xp6(4),e.hij(" ",t.cliente.nome," "),e.xp6(4),e.hij(" ",t.cliente.telefone," "),e.xp6(4),e.Q6J("href","http://maps.google.com/?q="+t.endereco,e.LSH),e.xp6(1),e.hij(" ",t.endereco," "),e.xp6(4),e.hij(" ",e.xi3(18,11,t.dataVisita,"dd/MM/yyyy")," "),e.xp6(5),e.hij(" ",t.descricao," "),e.xp6(5),e.Oqu(t.chegouSite?"Sim":"N\xe3o"),e.xp6(5),e.Oqu(t.notificarWpp?"Sim":"N\xe3o"),e.xp6(5),e.Oqu(t.status),e.xp6(4),e.Q6J("ngIf","PENDENTE"===t.status),e.xp6(1),e.Q6J("ngIf","FINALIZADA"===t.status)}}function G(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira um nome"),e.qZA())}function Y(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira um telefone"),e.qZA())}function z(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina uma rua para o atendimento."),e.qZA())}function R(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um n\xfamero para o atendimento."),e.qZA())}function B(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um bairro para o atendimento."),e.qZA())}function O(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina uma cidade para o atendimento."),e.qZA())}function W(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um estado para o atendimento."),e.qZA())}function j(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira uma data"),e.qZA())}const r=function(n){return{"ng-invalid ng-dirty":n}};function L(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"span",16)(2,"p-calendar",81),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw(2);return e.KtG(o.visita.dataVisita=i)}),e.qZA(),e.TgZ(3,"label",82),e._uU(4,"Data da visita*"),e.qZA()(),e.YNc(5,j,2,0,"small",55),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("showIcon",!0)("ngModel",t.visita.dataVisita)("required",!0)("ngClass",e.VKq(6,r,t.submitted&&!t.visita.dataVisita))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.visita.dataVisita)}}function $(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira uma data"),e.qZA())}function X(n,l){if(1&n&&(e.TgZ(0,"div",63)(1,"span",16),e._UZ(2,"input",83),e.ALo(3,"date"),e.TgZ(4,"label",82),e._uU(5,"Data da visita*"),e.qZA()(),e.YNc(6,$,2,0,"small",55),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngModel",e.xi3(3,5,t.visita.dataVisita,"dd/MM/yyyy"))("required",!0)("ngClass",e.VKq(8,r,t.submitted&&!t.visita.dataVisita))("disabled",t.visitaViewMode),e.xp6(4),e.Q6J("ngIf",t.submitted&&!t.visita.dataVisita)}}function ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",1)(2,"h5"),e._uU(3,"Dados cliente"),e.qZA()(),e.TgZ(4,"div",52)(5,"span",16)(6,"input",53),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.nome=i)}),e.qZA(),e.TgZ(7,"label",54),e._uU(8,"Nome do cliente*"),e.qZA()(),e.YNc(9,G,2,0,"small",55),e.qZA(),e.TgZ(10,"div",52)(11,"span",16)(12,"p-inputMask",56),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.cpf=i)}),e.qZA(),e.TgZ(13,"label",57),e._uU(14,"CPF"),e.qZA()()(),e.TgZ(15,"div",52)(16,"span",16)(17,"p-inputMask",58),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.telefone=i)}),e.qZA(),e.TgZ(18,"label",59),e._uU(19,"Telefone*"),e.qZA()(),e.YNc(20,Y,2,0,"small",55),e.qZA(),e.TgZ(21,"div",52)(22,"span",16)(23,"input",60),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.email=i)}),e.qZA(),e.TgZ(24,"label",61),e._uU(25,"Email"),e.qZA()()(),e.TgZ(26,"div",62)(27,"h5"),e._uU(28,"Endere\xe7o"),e.qZA()(),e.TgZ(29,"div",63)(30,"span",16)(31,"input",64),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.cep=i)})("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCepSelected())}),e.qZA(),e.TgZ(32,"label",65),e._uU(33,"CEP"),e.qZA()()(),e.TgZ(34,"div",63)(35,"span",16)(36,"input",66),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.rua=i)}),e.qZA(),e.TgZ(37,"label",67),e._uU(38,"Rua*"),e.qZA()(),e.YNc(39,z,2,0,"small",55),e.qZA(),e.TgZ(40,"div",63)(41,"span",16)(42,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.numero=i)}),e.qZA(),e.TgZ(43,"label",69),e._uU(44,"N\xfamero*"),e.qZA()(),e.YNc(45,R,2,0,"small",55),e.qZA(),e.TgZ(46,"div",63)(47,"span",16)(48,"input",70),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.bairro=i)}),e.qZA(),e.TgZ(49,"label",71),e._uU(50,"Bairro*"),e.qZA()(),e.YNc(51,B,2,0,"small",55),e.qZA(),e.TgZ(52,"div",63)(53,"span",16)(54,"input",72),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.cidade=i)}),e.qZA(),e.TgZ(55,"label",73),e._uU(56,"Cidade*"),e.qZA()(),e.YNc(57,O,2,0,"small",55),e.qZA(),e.TgZ(58,"div",63)(59,"span",16)(60,"input",74),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.uf=i)}),e.qZA(),e.TgZ(61,"label",75),e._uU(62,"UF*"),e.qZA()(),e.YNc(63,W,2,0,"small",55),e.qZA(),e.TgZ(64,"div",62)(65,"h5"),e._uU(66,"Detalhes Visita"),e.qZA()(),e.YNc(67,L,6,8,"div",76),e.YNc(68,X,7,10,"div",76),e.TgZ(69,"div",77)(70,"p-checkbox",78),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.visita.chegouSite=i)}),e.qZA()(),e.TgZ(71,"div",77)(72,"p-checkbox",79),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.visita.notificarWpp=i)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.cliente.nome)("ngClass",e.VKq(45,r,t.submitted&&!t.cliente.nome))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.cliente.nome),e.xp6(3),e.Q6J("unmask",!0)("ngModel",t.cliente.cpf)("disabled",t.visitaViewMode),e.xp6(5),e.Q6J("unmask",!0)("ngModel",t.cliente.telefone)("required",!0)("ngClass",e.VKq(47,r,t.submitted&&!t.cliente.telefone))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.cliente.telefone),e.xp6(3),e.Q6J("ngModel",t.cliente.email)("disabled",t.visitaViewMode),e.xp6(8),e.Q6J("ngModel",t.endereco.cep)("disabled",t.visitaViewMode),e.xp6(5),e.Q6J("ngModel",t.endereco.rua)("ngClass",e.VKq(49,r,t.submitted&&!t.endereco.rua))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.rua),e.xp6(3),e.Q6J("ngModel",t.endereco.numero)("ngClass",e.VKq(51,r,t.submitted&&!t.endereco.rua))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.rua),e.xp6(3),e.Q6J("ngModel",t.endereco.bairro)("ngClass",e.VKq(53,r,t.submitted&&!t.endereco.bairro))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.bairro),e.xp6(3),e.Q6J("ngModel",t.endereco.cidade)("ngClass",e.VKq(55,r,t.submitted&&!t.endereco.cidade))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.cidade),e.xp6(3),e.Q6J("ngModel",t.endereco.uf)("ngClass",e.VKq(57,r,t.submitted&&!t.endereco.uf))("disabled",t.visitaViewMode),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.uf),e.xp6(4),e.Q6J("ngIf",!t.visitaViewMode),e.xp6(1),e.Q6J("ngIf",t.visitaViewMode),e.xp6(2),e.Q6J("binary",!0)("ngModel",t.visita.chegouSite)("disabled",t.visitaViewMode),e.xp6(2),e.Q6J("binary",!0)("ngModel",t.visita.notificarWpp)("disabled",t.visitaViewMode)}}function te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.hideDialog())}),e.qZA()}}function ne(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveVisita())}),e.qZA()}}function ie(n,l){if(1&n&&(e.YNc(0,te,1,0,"button",84),e.YNc(1,ne,1,0,"button",85)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.visitaViewMode),e.xp6(1),e.Q6J("ngIf",!t.visitaViewMode)}}function ae(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira um nome"),e.qZA())}function oe(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira um telefone"),e.qZA())}function le(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina uma rua para o atendimento."),e.qZA())}function se(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um n\xfamero para o atendimento."),e.qZA())}function re(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um bairro para o atendimento."),e.qZA())}function ce(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina uma cidade para o atendimento."),e.qZA())}function pe(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Defina um estado para o atendimento."),e.qZA())}function de(n,l){1&n&&(e.TgZ(0,"small",80),e._uU(1,"Insira um valor"),e.qZA())}function ue(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",1)(2,"h5"),e._uU(3,"Dados cliente"),e.qZA()(),e.TgZ(4,"div",52)(5,"span",16)(6,"input",53),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.nome=i)}),e.qZA(),e.TgZ(7,"label",54),e._uU(8,"Nome do cliente*"),e.qZA()(),e.YNc(9,ae,2,0,"small",55),e.qZA(),e.TgZ(10,"div",52)(11,"span",16)(12,"p-inputMask",88),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.cpf=i)}),e.qZA(),e.TgZ(13,"label",57),e._uU(14,"CPF"),e.qZA()()(),e.TgZ(15,"div",52)(16,"span",16)(17,"p-inputMask",58),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.telefone=i)}),e.qZA(),e.TgZ(18,"label",59),e._uU(19,"Telefone*"),e.qZA()(),e.YNc(20,oe,2,0,"small",55),e.qZA(),e.TgZ(21,"div",52)(22,"span",16)(23,"input",60),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.cliente.email=i)}),e.qZA(),e.TgZ(24,"label",61),e._uU(25,"Email"),e.qZA()()(),e.TgZ(26,"div",62)(27,"h5"),e._uU(28,"Endere\xe7o"),e.qZA()(),e.TgZ(29,"div",63)(30,"span",16)(31,"input",64),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.cep=i)})("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCepSelected())}),e.qZA(),e.TgZ(32,"label",65),e._uU(33,"CEP"),e.qZA()()(),e.TgZ(34,"div",63)(35,"span",16)(36,"input",66),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.rua=i)}),e.qZA(),e.TgZ(37,"label",67),e._uU(38,"Rua*"),e.qZA()(),e.YNc(39,le,2,0,"small",55),e.qZA(),e.TgZ(40,"div",63)(41,"span",16)(42,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.numero=i)}),e.qZA(),e.TgZ(43,"label",69),e._uU(44,"N\xfamero*"),e.qZA()(),e.YNc(45,se,2,0,"small",55),e.qZA(),e.TgZ(46,"div",63)(47,"span",16)(48,"input",70),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.bairro=i)}),e.qZA(),e.TgZ(49,"label",71),e._uU(50,"Bairro*"),e.qZA()(),e.YNc(51,re,2,0,"small",55),e.qZA(),e.TgZ(52,"div",63)(53,"span",16)(54,"input",72),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.cidade=i)}),e.qZA(),e.TgZ(55,"label",73),e._uU(56,"Cidade*"),e.qZA()(),e.YNc(57,ce,2,0,"small",55),e.qZA(),e.TgZ(58,"div",63)(59,"span",16)(60,"input",74),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.endereco.uf=i)}),e.qZA(),e.TgZ(61,"label",75),e._uU(62,"UF*"),e.qZA()(),e.YNc(63,pe,2,0,"small",55),e.qZA(),e.TgZ(64,"div",62)(65,"h5"),e._uU(66,"Detalhes Or\xe7amento"),e.qZA()(),e.TgZ(67,"div",63)(68,"span",16)(69,"p-inputNumber",89),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.orcamento.valor=i)}),e.qZA(),e.TgZ(70,"label",90),e._uU(71,"Valor Or\xe7amento"),e.qZA()(),e.YNc(72,de,2,0,"small",55),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.cliente.nome)("ngClass",e.VKq(41,r,t.submitted&&!t.cliente.nome))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.cliente.nome),e.xp6(3),e.Q6J("unmask",!0)("ngModel",t.cliente.cpf)("disabled",!0),e.xp6(5),e.Q6J("unmask",!0)("ngModel",t.cliente.telefone)("required",!0)("ngClass",e.VKq(43,r,t.submitted&&!t.cliente.telefone))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.cliente.telefone),e.xp6(3),e.Q6J("ngModel",t.cliente.email)("disabled",!0),e.xp6(8),e.Q6J("ngModel",t.endereco.cep)("disabled",!0),e.xp6(5),e.Q6J("ngModel",t.endereco.rua)("ngClass",e.VKq(45,r,t.submitted&&!t.endereco.rua))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.rua),e.xp6(3),e.Q6J("ngModel",t.endereco.numero)("ngClass",e.VKq(47,r,t.submitted&&!t.endereco.rua))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.rua),e.xp6(3),e.Q6J("ngModel",t.endereco.bairro)("ngClass",e.VKq(49,r,t.submitted&&!t.endereco.bairro))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.bairro),e.xp6(3),e.Q6J("ngModel",t.endereco.cidade)("ngClass",e.VKq(51,r,t.submitted&&!t.endereco.cidade))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.cidade),e.xp6(3),e.Q6J("ngModel",t.endereco.uf)("ngClass",e.VKq(53,r,t.submitted&&!t.endereco.uf))("disabled",!0),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.endereco.uf),e.xp6(6),e.Q6J("ngModel",t.orcamento.valor)("required",!0)("ngClass",e.VKq(55,r,t.submitted&&!t.visita.dataVisita)),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.visita.dataVisita)}}function ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.hideDialog())}),e.qZA()}}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveVisita())}),e.qZA()}}function _e(n,l){if(1&n&&(e.YNc(0,ge,1,0,"button",84),e.YNc(1,me,1,0,"button",85)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.visitaViewMode),e.xp6(1),e.Q6J("ngIf",!t.visitaViewMode)}}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",91),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.finalizaVisitaDialog=!1)}),e.qZA(),e.TgZ(1,"button",92),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmFinalizarVisita())}),e.qZA()}}const he=function(){return["_id","cliente.nome","cliente.telefone","cliente.endereco","dataVisita","chegouSite","notificarWpp"]},Ce=function(){return[10,20,30]},P=function(){return{width:"1200px"}},Ze=function(){return{width:"900px"}};let ve=(()=>{class n{constructor(t,a,i){this.messageService=t,this.visitaService=a,this.enderecoService=i,this.visitaDialog=!1,this.deleteVisitaDialog=!1,this.finalizaVisitaDialog=!1,this.orcamentoDialog=!1,this.visitaViewMode=!1,this.visita={},this.cliente={},this.endereco={},this.orcamento={},this.visitas=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.visitaService.buscarTodos().subscribe(t=>{this.visitas=t},t=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao buscar visitas",life:3e3})}),this.cols=[{field:"_id",header:"ID"},{field:"cliente.nome",header:"Nome"},{field:"cliente.telefone",header:"Telefone"},{field:"cliente.endereco",header:"Endere\xe7o"},{field:"dataVisita",header:"Data"},{field:"descricao",header:"Descri\xe7\xe3o"},{field:"chegouSite",header:"Chegou pelo Site"},{field:"notificarWpp",header:"Notificar Wpp"}]}openNewVisita(){this.visita={},this.cliente={},this.endereco={},this.submitted=!1,this.visitaDialog=!0,this.visitaViewMode=!1}saveVisita(){this.submitted=!0,this.visita.cliente=this.cliente,this.visita.endereco=this.endereco.rua+","+this.endereco.numero+","+this.endereco.bairro+","+this.endereco.cidade+","+this.endereco.uf+","+this.endereco.cep,this.visita.cliente.endereco=this.visita.endereco,this.visitaService.createVisita(this.visita).subscribe(t=>{this.visita=t,this.messageService.add({severity:"success",summary:"Successful",detail:"Visita Criada",life:3e3}),this.visitaDialog=!1,window.location.reload()},t=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao criar visita",life:3e3})})}finalizarVisita(t){this.visita=t,this.finalizaVisitaDialog=!0}confirmFinalizarVisita(){this.visitaService.finalizarVisita(this.visita).subscribe(t=>{this.visita=t,this.messageService.add({severity:"success",summary:"Successful",detail:"Visita Finalizada",life:3e3}),this.finalizaVisitaDialog=!1,window.location.reload()},t=>{this.messageService.add({severity:"error",summary:"Erro",detail:"Erro ao finalizar visita",life:3e3})})}viewVisita(t){this.visita=t,this.cliente=t.cliente?t.cliente:{},this.visita.endereco&&this.populateEndereco(this.visita.endereco),this.visitaDialog=!0,this.visitaViewMode=!0}populateEndereco(t){let a=t.split(",");this.endereco.rua=a[0],this.endereco.numero=a[1],this.endereco.bairro=a[2],this.endereco.cidade=a[3],this.endereco.uf=a[4],this.endereco.cep=a[5]}hideDialog(){this.visitaDialog=!1,this.submitted=!1}onNewOrcamento(t){this.visita=t,this.cliente=t.cliente?t.cliente:{},this.visita.endereco&&this.populateEndereco(this.visita.endereco),this.submitted=!1,this.orcamentoDialog=!0,this.visitaViewMode=!1}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}onCepSelected(){var t;!this.endereco.cep||(null===(t=this.endereco.cep)||void 0===t?void 0:t.length)<8||this.enderecoService.getEndereco(this.endereco.cep).subscribe(a=>{a.erro?this.messageService.add({severity:"error",summary:"Erro",detail:"CEP n\xe3o encontrado"}):(this.endereco.rua=a.logradouro,this.endereco.bairro=a.bairro,this.endereco.cidade=a.localidade,this.endereco.uf=a.uf)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.ez),e.Y36(D),e.Y36(y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visita-page"]],features:[e._Bn([u.ez])],decls:25,vars:28,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["responsiveLayout","scroll","currentPageReportTemplate","Monstrando {first} at\xe9 {last} de {totalRecords} visitas","dataKey","id",3,"value","columns","globalFilterFields","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","modal","maximizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Finalizar visita",3,"visible","modal","visibleChange"],[1,"formgrid","grid"],[1,"field","col-12","mt-4"],[1,"p-float-label"],["inputId","descricaoVisita","rows","5","pInputTextarea","",2,"width","100%",3,"ngModel","ngModelChange"],["for","descricaoVisita"],[1,"my-2"],["pButton","","pRipple","","label","Nova Visita","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","cliente.nome"],["field","cliente.nome"],["pSortableColumn","cliente.telefone"],["field","cliente.telefone"],["pSortableColumn","cliente.endereco"],["field","cliente.endereco"],["pSortableColumn","data"],["field","data"],["pSortableColumn","descricao"],["field","descricao"],["pSortableColumn","chegouSite"],["field","chegouSite"],["pSortableColumn","notificarWpp"],["field","notificarWpp"],["pSortableColumn","status"],["field","status"],[2,"width","12%","min-width","12rem"],[1,"p-column-title"],["target","_blank",3,"href"],[2,"width","12%","min-width","6rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-check","class","p-button-rounded p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-dollar","class","p-button-rounded p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-success",3,"click"],["pButton","","pRipple","","icon","pi pi-dollar",1,"p-button-rounded","p-button-success",3,"click"],[1,"field","col-6","mt-3","mt-3"],["type","text","id","inputNome","pInputText","","required","","autofocus","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","inputNome"],["class","ng-dirty ng-invalid",4,"ngIf"],["id","inputCpf","inputValor","",3,"unmask","ngModel","disabled","ngModelChange"],["for","inputCpf"],["id","inputTelefone","laceholder","(99) 99999-9999","mask","(99) 99999-9999",3,"unmask","ngModel","required","ngClass","disabled","ngModelChange"],["for","inputTelefone"],["type","text","id","inputEmail","pInputText","",3,"ngModel","disabled","ngModelChange"],["for","inputEmail"],[1,"col-12","mt-3"],[1,"field","col-6","mt-3"],["maxlength","9","type","text","id","CepVisitaInputEditDialog","pInputText","",3,"ngModel","disabled","ngModelChange","blur"],["for","CepVisitaInputEditDialog"],["type","text","id","RuaVisitaInputEditDialog","pInputText","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","RuaVisitaInputEditDialog"],["maxlength","5","type","number","id","N\xfameroVisitaInputEditDialog","pInputText","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","N\xfameroVisitaInputEditDialog"],["type","text","id","BairroVisitaInputEditDialog","pInputText","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","BairroVisitaInputEditDialog"],["type","text","id","CidadeVisitaInputEditDialog","pInputText","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","CidadeVisitaInputEditDialog"],["type","text","id","UfVisitaInputEditDialog","pInputText","",3,"ngModel","ngClass","disabled","ngModelChange"],["for","UfVisitaInputEditDialog"],["class","field col-6 mt-3",4,"ngIf"],[1,"field-checkbox","col-3","mt-3"],["name","group1","label","Cliente chegou pelo Site?","id","checkChegouSite",3,"binary","ngModel","disabled","ngModelChange"],["name","group1","label","Enviar Notifica\xe7\xf5es por WPP?","id","checkNotificarWpp",3,"binary","ngModel","disabled","ngModelChange"],[1,"ng-dirty","ng-invalid"],["dateFormat","dd/mm/yy","id","inputDataVisita",3,"showIcon","ngModel","required","ngClass","disabled","ngModelChange"],["for","inputDataVisita"],["type","text","pInputText","","id","inputDataVisita",3,"ngModel","required","ngClass","disabled"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times","class","p-button-text p-button-secondary",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check","class","p-button-text p-button-success",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check",1,"p-button-text","p-button-success",3,"click"],["id","inputCpf","placeholder","999.999.999-99","mask","999.999.999-99",3,"unmask","ngModel","disabled","ngModelChange"],["mode","currency","currency","BRL","locale","pt-BR","id","inputValor",3,"ngModel","required","ngClass","ngModelChange"],["for","inputValor"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Finalizar Visita",1,"p-button-text","p-button-success",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,S,2,0,"ng-template",4),e.qZA(),e.TgZ(6,"p-table",5,6),e.YNc(8,Q,6,0,"ng-template",7),e.YNc(9,K,26,0,"ng-template",8),e.YNc(10,H,43,14,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(o){return a.visitaDialog=o}),e.YNc(12,ee,73,59,"ng-template",11),e.YNc(13,ie,2,2,"ng-template",12),e.qZA(),e.TgZ(14,"p-dialog",10),e.NdJ("visibleChange",function(o){return a.orcamentoDialog=o}),e.YNc(15,ue,73,57,"ng-template",11),e.YNc(16,_e,2,2,"ng-template",12),e.qZA(),e.TgZ(17,"p-dialog",13),e.NdJ("visibleChange",function(o){return a.finalizaVisitaDialog=o}),e.TgZ(18,"div",14)(19,"div",15)(20,"span",16)(21,"textarea",17),e.NdJ("ngModelChange",function(o){return a.visita.descricao=o}),e.qZA(),e.TgZ(22,"label",18),e._uU(23,"Descreva a visita"),e.qZA()()()(),e.YNc(24,fe,2,0,"ng-template",12),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("value",a.visitas)("columns",a.cols)("globalFilterFields",e.DdM(23,he))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(24,Ce))("showCurrentPageReport",!0)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(25,P)),e.Q6J("visible",a.visitaDialog)("modal",!0)("maximizable",!0),e.xp6(3),e.Akn(e.DdM(26,P)),e.Q6J("visible",a.orcamentoDialog)("modal",!0)("maximizable",!0),e.xp6(3),e.Akn(e.DdM(27,Ze)),e.Q6J("visible",a.finalizaVisitaDialog)("modal",!0),e.xp6(4),e.Q6J("ngModel",a.visita.descricao))},dependencies:[p.mk,p.O5,d.iA,u.jx,d.lQ,d.fz,f.Hq,c.Fj,c.wV,c.JJ,c.Q7,c.nD,c.On,h.H,C.FN,Z.o,v.o,b.g,x.Rn,T.V,A.f,q.XZ,N.vy,p.uU]}),n})();var g=s(8925);let be=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-orcamento-page"]],decls:2,vars:0,template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"orcamento-page works!"),e.qZA())}}),n})(),xe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-instalacao-page"]],decls:2,vars:0,template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"instalacao-page works!"),e.qZA())}}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.Bz.forChild([{path:"visita",component:ve,canActivate:[g.a]},{path:"orcamento",component:be,canActivate:[g.a]},{path:"instalacao",component:xe,canActivate:[g.a]}]),M.Bz]}),n})();var Me=s(6198),Ve=s(4119),Ae=s(4466),qe=s(6526),Ne=s(2145);let Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Te,d.U$,J.O,c.u5,f.hJ,h.T,C.EV,Z.V,U.Xt,v.j,b.A,w.kW,I.cc,x.L$,T.S,Me.L,A._8,Ve.z,Ae.m,qe.q4,Ne.WN,q.nD,N.zz]}),n})()}}]);